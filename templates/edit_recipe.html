{% extends "index.html" %}
{% block content %}

<div class="content-container">
    <h3 class="register-header center-align">Edit your meal here</h3>
    <div class="row">
        <form class="col s12" method="POST" action="{{ url_for('edit_meal', meal_id=meal._id) }}">
            <!-- meal name -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="meal_name" name="meal_name" minlength="10" maxlength="25" value="{{ meal.meal_name }}"
                        type="text" class="validate" required>
                    <label for="meal_name">What's it called?</label>
                </div>
                <div class="form-guide">
                    Recipe name must be between 10 and 25 characters long.
                </div>
            </div>
            <!-- description -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="meal_description" name="meal_description" minlength="10" maxlength="300"
                        value="{{ meal.meal_description }}" type="text" class="validate" required>
                    <label for="meal_description">Tell Us About It</label>
                </div>
                <div class="form-guide">
                    Description must be between 10 and 300 characters long.
                </div>
            </div>
            <!-- image url -->
            <div class="row">
                <div class="input-field col s12">
                    <input id="url" name="url" minlength="10" maxlength="600" value="{{ meal.url }}" type="text"
                        class="validate" required>
                    <label for="url">Feel free to include and image url here</label>
                </div>
                <div class="form-guide">
                    Please make sure you include the entire updated image url including https:// - images must have a
                    height of 960 pixels and a width of 540 pixels.
                </div>
            </div>
            <!-- ingredients fields -->
            <h3 class="edit-form-header">Ingredients</h3>
            <div id="ingredients-form">
                <div class="row">
                    {% for ingredient in meal.meal_ingredients %}
                    <div class="input-field col s12">
                        <input id="ingredient_name" name="ingredient_name" minlength="5" maxlength="60"
                            value="{{ ingredient.ingredient_name }}" type="text" class="validate" required>
                        <label for="ingredient_name">Name</label>
                    </div>
                    <div class="form-guide">
                        Ingredient name must be between 5 and 60 characters long.
                    </div>
                    <div class="input-field col s12">
                        <input id="ingredient_quantity" name="ingredient_quantity" min="1" max="100"
                            value="{{ ingredient.ingredient_quantity }}" type="number" class="validate" required>
                        <label for="ingredient_quantity">Quantity</label>
                    </div>
                    <div class="form-guide">
                        Quantity number can be from 1 to 100.
                    </div>
                    <div class="input-field col s12">
                        <input id="ingredient_unit" name="ingredient_unit" minlength="1" maxlength="15"
                            value="{{ ingredient.ingredient_unit }}" type="text" class="validate" required>
                        <label for="ingredient_unit">Measurement</label>
                    </div>
                    <div class="form-guide">
                        Please only use the following units of measurement: tbsp, tsp, cup, ltr, ml etc.
                    </div>
                    {% endfor %}
                </div>
            </div>
            <!-- empty ingredient div -->
            <div id="more_ingredients">
            </div>
            <!-- nutrition -->
            <h3 class="edit-form-header">Nutrition</h3>
            <div class="row">
                <div class="input-field col s12">
                    <input id="calories" name="calories" minlength="1" maxlength="10" value="{{ meal.calories }}"
                        type="text" class="validate" required>
                    <label for="calories">Calories</label>
                </div>
                <div class="form-guide">
                    Calories can be entered using numbers only.
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="carbs" name="carbs" minlength="1" maxlength="10" value="{{ meal.carbs }}" type="text"
                        class="validate" required>
                    <label for="carbs">Carbs</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="protein" name="protein" minlength="1" maxlength="10" value="{{ meal.protein }}"
                        type="text" class="validate" required>
                    <label for="protein">Protein</label>
                </div>
                <div class="form-guide">
                    Please only use 'g' for your unit of measurement for the carbs and protien field. Maximum character
                    amount is 10.
                </div>
            </div>
            <!-- prep time & serving -->
            <h3 class="edit-form-header">Prep</h3>
            <div class="row">
                <div class="input-field col s12">
                    <input id="cooking_time" name="cooking_time" minlength="1" maxlength="10"
                        value="{{ meal.cooking_time }}" type="text" class="validate" required>
                    <label for="cooking_time">Cooking Time</label>
                </div>
                <div class="form-guide">
                    Cooking time must be between 1 and 10 characters long. Make sure you include the length of time i.e.
                    hrs, mins.
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <input id="servings" name="servings" value="{{ meal.servings }}"
                        type="number" class="validate" required>
                    <label for="servings">Servings</label>
                </div>
                <div class="form-guide">
                    Servings can be from 1 to 100 using numbers only.
                </div>
            </div>
            <!-- directions -->
            <h3 class="edit-form-header">Directions</h3>
            <div class="row">
                <div class="input-field col s12">
                    <input id="meal_instructions" name="meal_instructions" minlength="10"
                        value="{{ meal.meal_instructions }}" type="text" class="validate" required>
                </div>
                <div class="form-guide">
                    Directions must be a minumum of 10 characters long.
                </div>
            </div>
            <!-- cancel button -->
            <div class="input-field col s12 center-align">
                <div class="row">
                    <a href="{{ url_for('get_meals') }}" id="ing-btn">
                        Cancel Update
                    </a>
                </div>
            </div>
            <!-- add meal button -->
            <div class="row">
                <div class="col s12 center-align">
                    <button type="submit" class="add-meal-button">
                        Update
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}